# üîç –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –∏ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ø–æ–¥–¥–µ–ª—å–Ω—ã—Ö –∏–ª–∏ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∏—Ö –ø–∞—Å–ø–æ—Ä—Ç–æ–≤.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏
- **sharp** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤)
- **tesseract.js** - OCR (–û–ø—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤) –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
- **@vladmandic/face-api** - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ–π—Ä–æ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π

### –ù–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏
- **SSD MobileNet v1** - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ª–∏—Ü
- **Face Landmark 68-point** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ç–æ—á–µ–∫ –ª–∏—Ü–∞
- **Face Recognition Net** - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ª–∏—Ü

## –£—Ä–æ–≤–Ω–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏

### 1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (30% –≤–µ—Å–∞)
**–§—É–Ω–∫—Ü–∏—è:** `checkImageQuality(imagePath)`

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: –º–∏–Ω–∏–º—É–º 800x600 –ø–∏–∫—Å–µ–ª–µ–π
- ‚úÖ –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 50 –ö–ë - 10 –ú–ë
- ‚úÖ –§–æ—Ä–º–∞—Ç: JPEG –∏–ª–∏ PNG

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
{
  passed: true/false,
  checks: {
    resolution: { passed: true, width: 1920, height: 1080 },
    fileSize: { passed: true, size: 2457600 },
    format: { passed: true, format: 'jpeg' }
  },
  metadata: { ... }
}
```

### 2Ô∏è‚É£ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ - OCR (20% –≤–µ—Å–∞)
**–§—É–Ω–∫—Ü–∏—è:** `recognizeText(imagePath)`

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- üîç –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º/–∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- üîç –ü–æ–∏—Å–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –ø–∞—Å–ø–æ—Ä—Ç–∞:
  - "–ø–∞—Å–ø–æ—Ä—Ç", "passport"
  - "—Å–µ—Ä–∏—è", "series", "–Ω–æ–º–µ—Ä", "number"
  - "–≥—Ä–∞–∂–¥–∞–Ω–∏–Ω", "citizen"
  - "–¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è", "date of birth"
  - "–≤—ã–¥–∞–Ω", "issued"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
{
  passed: true/false,
  text: "—Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç...",
  confidence: 85,
  foundKeywords: ['–ø–∞—Å–ø–æ—Ä—Ç', '—Å–µ—Ä–∏—è', '–Ω–æ–º–µ—Ä']
}
```

### 3Ô∏è‚É£ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ª–∏—Ü–∞ (20% –≤–µ—Å–∞)
**–§—É–Ω–∫—Ü–∏—è:** `detectFace(imagePath)`

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- üë§ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ª–∏—Ü–∞ —Å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é >60%
- üë§ –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ —Ä–æ–≤–Ω–æ –æ–¥–Ω–æ –ª–∏—Ü–æ
- üë§ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞ –ª–∏—Ü–∞ (128-–º–µ—Ä–Ω—ã–π –≤–µ–∫—Ç–æ—Ä)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
{
  passed: true/false,
  faces: 1,
  confidence: 0.98,
  descriptor: Float32Array(128)
}
```

### 4Ô∏è‚É£ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ª–∏—Ü (30% –≤–µ—Å–∞)
**–§—É–Ω–∫—Ü–∏—è:** `compareFaces(passportPhoto, selfiePhoto)`

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- üéØ –ï–≤–∫–ª–∏–¥–æ–≤–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º–∏ –ª–∏—Ü
- üéØ –ü–æ—Ä–æ–≥ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è: —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ < 0.6
- üéØ –ü—Ä–æ—Ü–µ–Ω—Ç —Å—Ö–æ–∂–µ—Å—Ç–∏: (1 - distance) √ó 100%

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
{
  passed: true/false,
  similarity: 78.5,
  distance: 0.215
}
```

## –ü—Ä–æ—Ü–µ—Å—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–¥–Ω–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
**–§—É–Ω–∫—Ü–∏—è:** `verifyPassportPhoto(photoPath, type)`

**–¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**
- `passport_front` - –õ–∏—Ü–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –ø–∞—Å–ø–æ—Ä—Ç–∞
- `passport_back` - –û–±—Ä–∞—Ç–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –ø–∞—Å–ø–æ—Ä—Ç–∞
- `selfie` - –°–µ–ª—Ñ–∏ —Å –ø–∞—Å–ø–æ—Ä—Ç–æ–º

**–í—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
1. –ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ‚úÖ
2. –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø–∞—Å–ø–æ—Ä—Ç–æ–≤) ‚úÖ
3. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ª–∏—Ü–∞ (–¥–ª—è `passport_front` –∏ `selfie`) ‚úÖ

### –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
**–§—É–Ω–∫—Ü–∏—è:** `verifyAllDocuments(userId, frontPath, backPath, selfiePath)`

**–≠—Ç–∞–ø—ã:**
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Å–ø–æ—Ä—Ç–∞ (–ª–∏—Ü–æ)
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Å–ø–æ—Ä—Ç–∞ (–æ–±–æ—Ä–æ—Ç)
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–ª—Ñ–∏
4. üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ª–∏—Ü–∞ –Ω–∞ –ø–∞—Å–ø–æ—Ä—Ç–µ –∏ —Å–µ–ª—Ñ–∏
5. üìä –†–∞—Å—á–µ—Ç –æ–±—â–µ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
6. üìÑ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞

**–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
{
  passportFront: { ... },
  passportBack: { ... },
  selfie: { ... },
  faceComparison: { ... },
  overallConfidence: 85.2,
  passed: true,
  timestamp: "2024-01-15T10:30:00.000Z"
}
```

## –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏

### –í–µ—Å–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫
```javascript
{
  quality: 30%,        // –ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  textRecognition: 20%, // –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
  faceDetection: 20%,   // –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ª–∏—Ü–∞
  faceComparison: 30%   // –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ª–∏—Ü
}
```

### –°—Ç–∞—Ç—É—Å—ã –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

| –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|--------|----------|
| ‚â• 80% | `auto_approved` | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–¥–æ–±—Ä–µ–Ω–æ |
| 40-79% | `manual_review` | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ |
| < 40% | `rejected` | ‚ùå –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç–∫–ª–æ–Ω–∏—Ç—å |

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ—Ü–µ—Å—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
```javascript
bot.on('photo', async (ctx) => {
  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ç–æ
  const photoPath = await savePhotoDocument(...);
  
  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
  const verificationResult = await verifyPassportPhoto(photoPath, type);
  
  if (!verificationResult.passed) {
    // –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ñ–æ—Ç–æ
    await ctx.reply('‚ùå –§–æ—Ç–æ –Ω–µ –ø—Ä–æ—à–ª–æ –ø—Ä–æ–≤–µ—Ä–∫—É. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤–æ–µ.');
    return;
  }
  
  // –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
  ...
});
```

### 2. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
```javascript
if (allPhotosUploaded) {
  // –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
  const fullResult = await verifyAllDocuments(...);
  
  // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
  let status = 'manual_review';
  if (fullResult.overallConfidence >= 80) {
    status = 'auto_approved';
  } else if (fullResult.overallConfidence < 40) {
    status = 'rejected';
  }
  
  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
  await User.findOneAndUpdate(
    { telegramId: userId },
    {
      verificationResults: fullResult,
      verificationConfidence: fullResult.overallConfidence,
      verificationStatus: status
    }
  );
}
```

## –û—Ç—á–µ—Ç –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

**–§—É–Ω–∫—Ü–∏—è:** `generateVerificationReport(results)`

**–§–æ—Ä–º–∞—Ç –æ—Ç—á–µ—Ç–∞:**
```
üìä –û–ë–©–ê–Ø –£–í–ï–†–ï–ù–ù–û–°–¢–¨: 85.2%
üéØ –°–¢–ê–¢–£–°: ‚úÖ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –û–î–û–ë–†–ï–ù–û

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üì∏ –ü–ê–°–ü–û–†–¢ (–õ–ò–¶–û):
‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ: –ü–†–û–ô–î–ï–ù–û
‚úÖ –¢–µ–∫—Å—Ç: –ü–†–û–ô–î–ï–ù–û (–Ω–∞–π–¥–µ–Ω–æ 5 –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤)
‚úÖ –õ–∏—Ü–æ: –ü–†–û–ô–î–ï–ù–û (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å 98%)

üì∏ –ü–ê–°–ü–û–†–¢ (–û–ë–û–†–û–¢):
‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ: –ü–†–û–ô–î–ï–ù–û
‚úÖ –¢–µ–∫—Å—Ç: –ü–†–û–ô–î–ï–ù–û (–Ω–∞–π–¥–µ–Ω–æ 3 –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤–∞)

üì∏ –°–ï–õ–§–ò:
‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ: –ü–†–û–ô–î–ï–ù–û
‚úÖ –õ–∏—Ü–æ: –ü–†–û–ô–î–ï–ù–û (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å 96%)

üîÑ –°–†–ê–í–ù–ï–ù–ò–ï –õ–ò–¶:
‚úÖ –°–û–í–ü–ê–î–ï–ù–ò–ï (—Å—Ö–æ–∂–µ—Å—Ç—å 78.5%)
```

## –•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ë–î

### –ü–æ–ª—è –º–æ–¥–µ–ª–∏ User
```javascript
{
  verificationResults: {
    type: Object,
    default: null
  },
  verificationConfidence: {
    type: Number, // 0-100
    default: 0
  },
  verificationStatus: {
    type: String,
    enum: ['pending', 'auto_approved', 'manual_review', 'rejected'],
    default: 'pending'
  }
}
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### Graceful Degradation
–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã:

```javascript
try {
  const result = await verifyPassportPhoto(path, type);
  if (!result.passed) {
    // –û—Ç–∫–ª–æ–Ω–∏—Ç—å —Ñ–æ—Ç–æ
    return;
  }
} catch (error) {
  console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:', error);
  // –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
}
```

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏
- ‚ùå –ú–æ–¥–µ–ª–∏ Face-API –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã ‚Üí –ü—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏—Ü
- ‚ùå Tesseract –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω ‚Üí –ü—Ä–æ–ø—É—Å–∫ OCR
- ‚ùå –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ñ–∞–π–ª ‚Üí –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ñ–æ—Ç–æ

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```env
# ID —á–∞—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
ADMIN_CHAT_ID=123456789
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤
–í `documentVerification.js`:
```javascript
// –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
MIN_WIDTH = 800
MIN_HEIGHT = 600

// –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
MIN_FILE_SIZE = 50 * 1024 // 50 KB
MAX_FILE_SIZE = 10 * 1024 * 1024 // 10 MB

// –ü–æ—Ä–æ–≥ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ª–∏—Ü
FACE_MATCH_THRESHOLD = 0.6 // –ï–≤–∫–ª–∏–¥–æ–≤–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ

// –ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ª–∏—Ü–∞
FACE_DETECTION_THRESHOLD = 0.6 // 60%
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–ø—Ä–∏–º–µ—Ä–Ω–æ–µ)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞: ~50-100ms
- OCR (Tesseract): ~2-5 —Å–µ–∫—É–Ω–¥
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ª–∏—Ü–∞: ~500-1000ms
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ª–∏—Ü: ~100-200ms

**–û–±—â–µ–µ –≤—Ä–µ–º—è:** ~3-7 —Å–µ–∫—É–Ω–¥ –Ω–∞ –ø–æ–ª–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π Face-API
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ –ª–∏—Ü
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é sharp
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ –æ—Ç –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞
1. ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ (—Å–∫—Ä–∏–Ω—à–æ—Ç—ã, —Ñ–æ—Ç–æ —ç–∫—Ä–∞–Ω–∞)
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ç–µ–∫—Å—Ç–∞ –ø–∞—Å–ø–æ—Ä—Ç–∞ (OCR)
3. ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ª–∏—Ü–∞ –Ω–∞ —Ñ–æ—Ç–æ
4. ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ª–∏—Ü–∞ –Ω–∞ –ø–∞—Å–ø–æ—Ä—Ç–µ –∏ —Å–µ–ª—Ñ–∏
5. ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- üîí –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- üîí –ü—Ä–æ–≤–µ—Ä—è—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å –Ω–∏–∑–∫–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é –≤—Ä—É—á–Ω—É—é
- üîí –•—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–ª—è –∞—É–¥–∏—Ç–∞
- üîí –£–≤–µ–¥–æ–º–ª—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
1. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ ‚Üí auto_approved
2. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–∑–º—ã—Ç—ã—Ö —Ñ–æ—Ç–æ ‚Üí rejected
3. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ ‚Üí rejected
4. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —á—É–∂–æ–≥–æ –ø–∞—Å–ø–æ—Ä—Ç–∞ (–ª–∏—Ü–æ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç) ‚Üí rejected
5. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ ‚Üí rejected

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install sharp tesseract.js @vladmandic/face-api

# –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π Face-API (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
# –°–º. https://github.com/justadudewhohacks/face-api.js-models
```

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ –≤–æ–¥—è–Ω—ã–º –∑–Ω–∞–∫–∞–º
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–∞—Å–ø–æ—Ä—Ç–∞ (–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞—Ç—ã –∏–∑ —Ç–µ–∫—Å—Ç–∞)
- [ ] –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ñ–æ—Ç–æ–º–æ–Ω—Ç–∞–∂–∞ (digital forensics)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –±–∞–∑–µ —á–µ—Ä–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤
- [ ] API –¥–ª—è —Ä—É—á–Ω–æ–π –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–π
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏—á–Ω–æ—Å—Ç–∏

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –º–æ–¥–µ–ª–µ–π Face-API
4. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2024-01-15
